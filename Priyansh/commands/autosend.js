const axios = require("axios");
const moment = require("moment-timezone");

const shayariList = [
  "ðŸŒ… ð™ð™šð™§ð™ž ð™ð™–ð™£ð™¨ð™ž ð™¨ð™š ð™ð™–ð™§ ð™¨ð™ªð™—ð™ð™– ð™ ð™ž ð™¨ð™ð™ªð™§ð™ªð™–ð™© ð™ð™¤, ð™£ð™–ð™®ð™– ð™™ð™žð™£ ð™©ð™ªð™Ÿð™ð™¨ð™š ð™ ð™ð™–ð™¨ ð™ð™¤ â˜€ï¸",
  "â¤ï¸ ð™ð™ªð™Ÿð™ð™š ð™¨ð™¤ð™˜ð™ð™ ð™–ð™§ ð™ð™ž ð™ð™–ð™§ ð™¨ð™ªð™—ð™ð™– ð™ð™ªð™– ð™ ð™–ð™§ð™©ð™ž ð™ð™–ð™ž, ð™©ð™ªð™Ÿð™ð™š ð™¥ð™–ð™– ð™¡ð™ªð™£ ð™®ð™–ð™ð™ž ð™˜ð™ð™–ð™ð™©ð™ž ð™ð™–ð™ž ðŸ’–",
  "ðŸŒ™ ð™ð™–ð™–ð™© ð™ ð™ž ð™©ð™–ð™§ð™–ð™ ð™©ð™ð™–ð™¢ð™š ð™§ð™–ð™ð™£ð™–, ð™¨ð™ªð™—ð™ð™– ð™ ð™ž ð™©ð™–ð™§ð™–ð™ ð™¨ð™–ð™–ð™©ð™ ð™Ÿð™–ð™œð™£ð™– ðŸ˜´âœ¨",
  "ðŸŒ¼ ð™ƒð™–ð™§ ð™™ð™žð™£ ð™šð™  ð™£ð™–ð™®ð™ž ð™ ð™–ð™ð™–ð™£ð™ž ð™ð™–ð™ž, ð™©ð™šð™§ð™š ð™—ð™žð™£ð™– ð™–ð™™ð™ð™ªð™§ð™ž ð™¯ð™žð™£ð™™ð™–ð™œð™ž ð™ ð™– ð™–ð™ð™¨ð™–ð™–ð™¨ ð™ð™–ð™ž ðŸŒ¸",
  "ðŸ’˜ ð™ð™šð™§ð™– ð™¨ð™–ð™–ð™©ð™ ð™ð™¤ ð™©ð™¤ ð™ð™–ð™§ ð™§ð™–ð™–ð™ ð™–ð™¨ð™–ð™£ ð™ð™–ð™ž, ð™©ð™šð™§ð™– ð™¨ð™–ð™®ð™– ð™ð™¤ ð™©ð™¤ ð™Ÿð™–ð™ð™–ð™£ ð™ð™–ð™ž ðŸ¥°",
  "ðŸ’­ ð™ð™šð™§ð™š ð™ ð™ð™®ð™–ð™–ð™¡ ð™¤ð™£ð™ð™ž ð™¢ð™šð™žð™£ ð™ð™–ð™§ ð™¨ð™ªð™—ð™ð™– ð™™ð™žð™¡ ð™ ð™¤ ð™–ð™§ð™–ð™–ð™¢ ð™¢ð™žð™¡ð™©ð™– ð™ð™–ð™ž ðŸ’“",
  "ðŸŒ» ð™ˆð™šð™§ð™ž ð™¨ð™ªð™—ð™ð™–ð™šð™£ ð™–ð™— ð™©ð™šð™§ð™š ð™£ð™–ð™–ð™¢ ð™¨ð™š ð™ð™¤ð™©ð™ž ð™ð™–ð™ž ðŸŒž",
  "ðŸŽµ ð™ð™šð™§ð™ž ð™–ð™–ð™¬ð™–ð™¯ ð™ð™–ð™§ ð™¨ð™ªð™—ð™ð™– ð™šð™  ð™£ð™–ð™®ð™– ð™§ð™–ð™œ ð™¡ð™–ð™–ð™©ð™– ð™ð™–ð™ž ðŸŽ¶",
  "ðŸ’Œ ð™ƒð™–ð™§ ð™¨ð™ªð™—ð™ð™– ð™¢ð™šð™§ð™– ð™¥ð™®ð™–ð™§ ð™©ð™ªð™Ÿð™ð™š ð™šð™  ð™£ð™–ð™®ð™– ð™¥ð™–ð™œð™ð™–ð™–ð™¢ ð™™ð™šð™©ð™– ð™ð™–ð™ž ðŸ’",
  "ðŸŒº âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð”ðƒðšðšð’ ð‡ð® ððšð‘ ð“ð®ð‰ð¡ð’ðž ððšð‘ðšð™ ððšð‡ð¢ ð“ðžð‘ðž ððšð’ð¬ ððšð‡ð¢ ð‰ð¡ð¨ð¨ð“ ðŠðšð‡ð® ð“ð¨ ð¬ð ðŠð®ðœð‡ ð‡ ðŒðžð‘ðž ððšð’ð’ ðŽð« ð’ðšðœð‡ ðŠðšð‡ðš ð“ð¨ ð“ðžð‘ðž ð’ð¢ð–ðš ðŠð®ð‚ð¡ ðŠð‡ðšðšð’ ððšð‡ð¢ ï¼¿ã€‘ ðŸŒ¹",
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð–ð¨ð‡ ðŠð¡ð®ð’ð¡ ð‡ð€ð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð‡ð¢ ð–ð¨ð‡ ððšð‘ðšð‰ ð‡ðšð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð‡ð¢ ðŠð¨ð ðŠðžð‡ðšð“ðš ð‡ðšð¢ ðŠðž ð”ð§ðŠðž ðƒð¢ð¥ð¥ ðŒðž ðŒð¨ð‡ð¨ððšðšð“ ððšð‡ð¢ ðŒð¨ð‡ð¨ððšðšð“ ð‡ðšð¢ ððšð‘ ð’ð¡ðšð˜ðšð ð‡ð®ðŒ ð’ðž ððšð¡ð¢  ï¼¿ã€‘ " ,
"ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ðŠð¢ð“ððš ðð²ðšðšð‘ðš ð‡ðšð¢ ð–ð¨ ð’ð¡ð€ðªð’ ð‰ð¨ ðŒðžð‘ð¢ ð‡ðšð‘ ð™ð®ððšðšð ððž ð’ð¡ðšðŒð¢ð‹ ð‡ðšð¢ ð˜ðž ðŠðšðˆð¬ðš ðˆð¬ð‡ðª ðŒðšð¢ ðŒðžð‘ðš ð‰ð¨ ð€ðð‡ð®ð‘ðš ð‡ð¨ðŠðž ðð¡ð¢ ðŠðšðšðŒð¢ð¥ ð‡ðšð¢  ï¼¿ã€‘ " ,
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ðŒð®ð£ð¡ðŠð¨ ð€ð¢ð’ðš ðƒðšð«ðƒ ðŒð¢ð‹ðš ð‰ð¢ð¬ðŠð¢ ðƒðšð–ð€ ððšð‡ð¢ ððšð¢ð‘ ðð¡ð¢ ðŠð¡ð®ð’ð¡ ð‡ð®ð ðŒð®ð£ð‡ðž ð”ð¬ ð’ðž ðŠð¨ðˆ ð†ð¢ð¥ð€ ððšð‡ð¢ ð€ð®ð‘ ðŠð¢ð“ð§ð„ ð€ðšð§ð’ð® ððšð‡ðšð”ð§ ð€ð› ð”ð¬ ðŠðž ð‹ð¢ð˜ðš ð‰ð¢ð¬ðŠð¨ ðŠð¡ð”ððš ððž ðŒðžð‘ðž ððšð¬ð„ð„ð› ðŒðšðˆð§ ð‹ð¢ð¤ð‡ðš ð‡ð¢ððšð‡ð¢ ï¼¿ã€‘ " ,
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð“ðžð‘ð¢ ðŠðšðšðŒð˜ðšðð¢ ððšð‘ ð“ðšð‘ðžðžð… ð“ðžð‘ð¢ ðŠð¨ð’ð‡ð¢ð’ð¡ ðð« ð“ðšðšððš ð‡ð¨ð ðš ð“ðžð‘ðž ðƒð®ð¤ð‡ ðŒðž ðŠð®ð‚ð¡ ð‹ð¨ð† ð“ðžð‘ðž ð’ð®ðŠð¡ ðŒðž ð™ðšðŒðšðšððš ð‡ð¨ð†ðš  ï¼¿ã€‘ âŽ¯áªµâŽ¯ê¯­Ì½ð†¼ê¯­ðŸŒ¿ê¯­" ,
"ï¼¿ ððšðš ð‘ðšð¬ð“ð¨ð ððž ð’ðšðšð“ð¡ ðƒð¢ð˜ðš ððš ðŒðšð§ð™ð¢ð¥ ððž ðˆð§ð“ðžð™ðšðšð‘ ðŠð¢ð˜ðš ðŒðžð¢ð ðŠð²ð€ ð¥ð¢ðŠð‡ð® ð€ð©ðð¢ ð™ð¢ð§ðƒðšð†ð¢ ððšð‘ ðŒðžð‘ðž ð’ðšðšð“ð¡ ð“ð¨ ð”ð¦ðžðžðƒð¨ð§ ððž ðð¡ðˆ ðŒðšð™ðšðšðŠ ðŠð¢ð˜ðš ï¼¿" ,
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ðŠðšðˆð¬ðš ðƒð¢ð¤ð‡ð“ðš ð‡ð® ðŠðšðˆð’ðš ð‹ðšð†ð“ðš ð‡ð® ðŠð²ð€ ð…ðšð‘ðª ððšð‘ð“ðš ð‡ðšðˆ ð“ðžð‘ðž ððšðƒ ðŠð¢ð’ð¢ ðŠð¨ ð€ðšðœð‡ðš ð‹ðšð ððš ðð¡ðˆ ðŒð®ð£ð‡ðž ð€ðšðœð‡ðš ððšð‡ð¢ ð‹ðšð ð“ðš ï¼¿ã€‘",
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ððš ð‰ðšðšððž ðŠð¢ð’ ð“ðšð‘ðšð‡ ðŠðš ðˆð¬ð‡ðª ðŠðšð‘ ð‘ðžð‡ðž ð‡ðšðˆð§ ð‡ð®ðŒ ð‰ð¢ð’ð¤ð„ ð‡ð¨ ððšð‡ð¢ ð’ðšðŠð­ð„ ð”ð¬ ð‡ð¢ ðŠðž ð‡ð¢ ðŠðž ð‡ð¨ ð‘ðžð¡ð„ ð‡ðšðˆ ð‡ð®ðŒ ï¼¿ã€‘ ",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð“ðžð‘ð¢ ð‚ð¡ðšð‡ðšð“ ðŒðžð¢ð ð¢ð“ð§ðš ð‚ð¡ðšð‡ð§ð„ ð“ð‡ð¢ ðŠð¢ ððšð¢ð‘ ðŠð¢ð’ð¢ ð‚ð¡ðšð‡ð§ð„ ðŠð¢ ð‚ð¡ðšð‡ðšð“ ðŠð¢ ð‚ð¡ðšð‡ðšð“ ððš ð‘ðžð‡ð¢ ï¼¿ã€‘ ",
 "âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð™ð¢ð§ðƒðšð†ð¢ ðŒðžð¢ð§ ð€ð ðšð‘ ðŠð®ðœð‡ ðð®ð‘ðš ð‡ð¨ ð“ð¨ð‡ ð’ðšððšð‘ ð‘ðšðŠð¡ðŽ ðŠð²ð”ð§ðŠð¢ ð‘ð¨ð¨ ðŠðšð‘ ð…ð¢ð‘ ð‡ðšð’ð§ð„ ðŠðš ðŒðšð™ðš ð‡ð¢ ðšð¥ð€ð  ð‡ð¨ð“ðš ð‡ðšð¢ ï¼¿ã€‘",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ðˆð¦ ðð¨ð“ ðŽð¤ðšð˜ ðŠð²ð®ð ðŠð¢ ð€ðšð©ðŠð¢ ð˜ðšðšðƒ ð‘ð®ð‹ðšð“ð¢ ð‡ðšð¢ ððšð‡ð¨ð“ ï¼¿ã€‘ ",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð“ð®ð£ð‡ðž ððšð“ðš ðŠð²ð” ððšð‡ð¢ ð‚ð¡ðšð¥ð“ðš ! ð¤ð¢ ðŒðžð‘ðž ð“ðžð‘ðš ðð¢ððš ðƒð¢ð¥ ððšð‡ð¢ ð‹ð ð“a ï¼¿ã€‘",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ð†ð®ð¬ð¬ð€ ðŠð¢ð“ð§ð€ ðð¡ð¢ ð‡ð¨ ðð²ðšðšð‘ ð“ð®ðŒ ð‡ð¢ ð‡ð¨ ï¼¿ã€‘",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ðŒð¢ð‹ðž ð“ð¡ð„ ð„ð¤ ð€ð‰ð§ðšðð¢ ððšð§ðŠðšð‘ ð€ðšð£ ðŒðžð«ðž ðƒð¢ð¥ ðŠð¢ ð™ðšð‘ð¨ð¨ð‘ðšð“ ð‡ð¨ ð“ð®ðŒ ï¼¿ã€‘ ",
"âŽ¯â·¨Í¢âŸµÌ½Í‡ðŸ’—ê¯­âƒªâ·¯à¼†â‚ð„„â˜â£ ã€ï¼¿ ð“ðžð‘ðš ð’ðšðšð“ð¡ ðŸ™„ ð“ðžð‘ð¢ ððšðšð“ðžð¢ð ðŸ¥° ð“ðžð‘ð¢ ð‚ðšð‘ðž ðŸ˜˜ ð“ðžð‘ð¢ ð‘ðžð¬ððžðœð“ ðŸ˜ ð­ðžð‘ðš ðð²ðšð‘ ðŸ˜¶ ððšð¬ ð˜ðšð‡ð¢ ð‚ð¡ðšð‡ð¢ð˜ðž ðŒð®ð£ð‡ðž ðŸ™ˆðŸ™ˆ ï¼¿ã€‘ ",
];

const imageLinks = [
  "https://i.imgur.com/jHGiMXB.jpeg",
"https://i.imgur.com/SZuKQcV.jpeg",
"https://i.imgur.com/YbDFR4M.jpeg",
"https://i.imgur.com/xGlwWMl.jpeg",
"https://i.imgur.com/ir50pxR.jpeg",
"https://i.imgur.com/mqG4j4q.jpeg",
"https://i.imgur.com/tbyDsQo.jpeg",
"https://i.imgur.com/xciNKHb.jpeg",
"https://i.imgur.com/thVLlu3.jpeg",
"https://i.imgur.com/XyYETpZ.jpeg",
"https://i.imgur.com/8ppbD5V.jpeg",
];

const hindiDays = ["à¤°à¤µà¤¿à¤µà¤¾à¤°", "à¤¸à¥‹à¤®à¤µà¤¾à¤°", "à¤®à¤‚à¤—à¤²à¤µà¤¾à¤°", "à¤¬à¥à¤§à¤µà¤¾à¤°", "à¤—à¥à¤°à¥à¤µà¤¾à¤°", "à¤¶à¥à¤•à¥à¤°à¤µà¤¾à¤°", "à¤¶à¤¨à¤¿à¤µà¤¾à¤°"];
const hindiMonths = ["à¤œà¤¨à¤µà¤°à¥€", "à¤«à¤°à¤µà¤°à¥€", "à¤®à¤¾à¤°à¥à¤š", "à¤…à¤ªà¥à¤°à¥ˆà¤²", "à¤®à¤ˆ", "à¤œà¥‚à¤¨", "à¤œà¥à¤²à¤¾à¤ˆ", "à¤…à¤—à¤¸à¥à¤¤", "à¤¸à¤¿à¤¤à¤®à¥à¤¬à¤°", "à¤…à¤•à¥à¤Ÿà¥‚à¤¬à¤°", "à¤¨à¤µà¤®à¥à¤¬à¤°", "à¤¦à¤¿à¤¸à¤®à¥à¤¬à¤°"];

module.exports.config = {
  name: "autotime",
  version: "1.0.5",
  hasPermission: 2,
  credits: "Raj",
  description: "Auto time + shayari in all groups",
  commandCategory: "â° Auto",
  usages: "Autopost every hour to all groups",
  cooldowns: 5
};

module.exports.onLoad = function ({ api }) {
  const interval = 60 * 60 * 1000; // à¤¹à¤° 1 à¤˜à¤‚à¤Ÿà¥‡ à¤®à¥‡à¤‚

  setInterval(async () => {
    const now = moment().tz("Asia/Kolkata"); // âœ” à¤‡à¤‚à¤¡à¤¿à¤¯à¤¾ à¤Ÿà¤¾à¤‡à¤®

    const hour = now.format("HH");
    const minute = now.format("mm");
    const time = `${hour}:${minute}`;
    const date = `${now.date()}/${hindiMonths[now.month()]}/${now.year()}`;
    const day = hindiDays[now.day()];
    const shayari = shayariList[Math.floor(Math.random() * shayariList.length)];
    const imageUrl = imageLinks[Math.floor(Math.random() * imageLinks.length)];

    const message = `ââ”â”â”â”â”ã€ ð—§ð—œð— ð—˜ ã€‘â”â”â”â”â”â

ðŸ•’ ð—§ð—œð— ð—˜ âžª ${time}
ðŸ“… ð——ð—”ð—§ð—˜ âžª ${date}
ðŸ“† ð——ð—”ð—¬ âžª ${day}

ã€ŒðŸ“ ð—¦ð—›ð—”ð—¬ð—”ð—¥ð—œ ã€
${shayari}

ââ”â”â”â”ã€ ð’ð”ð‡ð„ð ðŠð‡ð€ð  ã€‘â”â”â”â”â`;

    const allThreads = global.data.allThreadID || [];

    for (const threadID of allThreads) {
      try {
        const res = await axios.get(imageUrl, { responseType: "stream" });
        api.sendMessage({ body: message, attachment: res.data }, threadID);
      } catch (err) {
        api.sendMessage(message + "\nâš ï¸ (à¤‡à¤®à¥‡à¤œ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¥€)", threadID);
      }
    }
  }, interval);
};

module.exports.run = () => {};
